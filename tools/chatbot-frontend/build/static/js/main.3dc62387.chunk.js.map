{"version":3,"sources":["components/Chat/Chat.tsx","components/Message/Message.tsx","components/Button/Button.tsx","components/Input/Input.tsx","components/MessageForm/MessageForm.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["socket","Message","message","text","dateTime","Date","toLocaleDateString","toLocaleTimeString","Button","type","color","children","size","className","Input","label","required","disabled","name","changeHandler","useState","value","setValue","htmlFor","id","onInput","event","target","handleChange","MessageForm","setMessage","messageFormState","setMessageFormState","onSubmit","preventDefault","Chat","messages","setMessages","useEffect","socketIOClient","withCredentials","extraHeaders","on","now","disconnect","map","emit","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3dc62387.chunk.js","sourcesContent":["import React, { useState, useEffect, FC } from 'react';\r\nimport Message from '../Message/Message';\r\nimport MessageForm from '../MessageForm/MessageForm';\r\nimport socketIOClient, { Socket } from 'socket.io-client';\r\nimport { IMessage } from 'app-shared-types';\r\nconst ENDPOINT = 'http://127.0.0.1:8080';\r\nlet socket: Socket;\r\n\r\nconst Chat: FC = () => {\r\n\tconst [messages, setMessages] = useState<IMessage[]>([{ id: 0, text: '' }]);\r\n\r\n\tuseEffect(() => {\r\n\t\tsocket = socketIOClient(ENDPOINT, {\r\n\t\t\twithCredentials: true,\r\n\t\t\textraHeaders: {\r\n\t\t\t\t'my-company': 'halkoliiteri.com',\r\n\t\t\t},\r\n\t\t});\r\n\t\tsocket?.on('add-message', (message: string) => {\r\n\t\t\tsetMessages((messages) => [...messages, { id: Date.now(), text: message }]);\r\n\t\t});\r\n\t\tsocket?.on('broadcast', (message: string) => {\r\n\t\t\tsetMessages((messages) => [...messages, { id: Date.now(), text: message }]);\r\n\t\t});\r\n\t\t// CLEAN UP THE EFFECT\r\n\t\treturn () => socket?.disconnect() as any;\r\n\t}, []);\r\n\r\n\tconst addMessage = (text: string) => {\r\n\t\tsocket?.emit('new-message', { text });\r\n\t};\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{messages.map((message: IMessage) => {\r\n\t\t\t\treturn <Message key={message.id} message={message} />;\r\n\t\t\t})}\r\n\t\t\t<MessageForm setMessage={addMessage} />\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Chat;\r\n","import React, { FC } from 'react';\r\nimport { IMessage } from 'app-shared-types';\r\n\r\ninterface IMessageProps {\r\n\tmessage: IMessage;\r\n}\r\n\r\nconst Message: FC<IMessageProps> = ({ message }) => {\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{message.text && (\r\n\t\t\t\t<p>\r\n\t\t\t\t\t<time dateTime={new Date().toLocaleDateString('fi') + ' ' + new Date().toLocaleTimeString('fi')}>\r\n\t\t\t\t\t\t{new Date().toLocaleDateString('fi') + ' ' + new Date().toLocaleTimeString('fi')}{' '}\r\n\t\t\t\t\t</time>{' '}\r\n\t\t\t\t\t{message.text}\r\n\t\t\t\t</p>\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Message;\r\n","import React, { FC } from 'react';\r\nimport { ButtonTypes, Sizes } from 'app-shared-types';\r\n\r\ninterface IButtonProps {\r\n\ttype: ButtonTypes;\r\n\tcolor: string;\r\n\tsize: Sizes;\r\n}\r\n\r\nconst Button: FC<IButtonProps> = ({ type, color, children, size }) => {\r\n\treturn (\r\n\t\t<button type={type} className={'button button_' + color + ' ' + size}>\r\n\t\t\t{children}\r\n\t\t</button>\r\n\t);\r\n};\r\n\r\nexport default Button;\r\n","import React, { FC, useState } from 'react';\r\nimport { InputTypes } from 'app-shared-types';\r\n\r\ninterface IInputProps {\r\n\ttype: InputTypes;\r\n\tlabel: string;\r\n\trequired: boolean;\r\n\tdisabled?: boolean;\r\n\tname: string;\r\n\tchangeHandler: (event: any) => void;\r\n}\r\n\r\nconst Input: FC<IInputProps> = ({ type, label, required, disabled, name, changeHandler }) => {\r\n\tconst [value, setValue] = useState<string>('');\r\n\tconst handleChange = (event: any) => {\r\n\t\tchangeHandler(event.target.value);\r\n\t\tsetValue(event.target.value);\r\n\t};\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<label htmlFor={name}>{label}</label>\r\n\t\t\t<input\r\n\t\t\t\tid={name}\r\n\t\t\t\ttype={type}\r\n\t\t\t\tclassName=\"input\"\r\n\t\t\t\tonInput={(event: any) => handleChange(event)}\r\n\t\t\t\tvalue={value}\r\n\t\t\t\trequired={required}\r\n\t\t\t\tdisabled={disabled}\r\n\t\t\t/>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Input;\r\n","import React, { FC, useState, FormEvent } from 'react';\r\nimport Button from '../Button/Button';\r\nimport Input from '../Input/Input';\r\n\r\ninterface IMessageFormProps {\r\n\tsetMessage: (event: any) => void;\r\n}\r\n\r\nconst MessageForm: FC<IMessageFormProps> = ({ setMessage }) => {\r\n\tconst [messageFormState, setMessageFormState] = useState('');\r\n\tconst handleSubmit = (event: FormEvent) => {\r\n\t\tevent.preventDefault();\r\n\t\tsetMessage(messageFormState);\r\n\t};\r\n\treturn (\r\n\t\t<form onSubmit={handleSubmit}>\r\n\t\t\t<Input label=\"new message\" name=\"message\" type=\"text\" changeHandler={setMessageFormState} required />\r\n\t\t\t<Button color=\"primary\" type=\"submit\" size=\"md\">\r\n\t\t\t\tAdd\r\n\t\t\t</Button>\r\n\t\t</form>\r\n\t);\r\n};\r\n\r\nexport default MessageForm;\r\n","import React, { FC } from 'react';\r\nimport Chat from './components/Chat/Chat';\r\nimport './App.scss';\r\n\r\nconst App: FC = () => {\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<h1>Chatbot.io</h1>\r\n\t\t\t<Chat />\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default App;\r\n","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n\tif (onPerfEntry && onPerfEntry instanceof Function) {\r\n\t\timport('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n\t\t\tgetCLS(onPerfEntry);\r\n\t\t\tgetFID(onPerfEntry);\r\n\t\t\tgetFCP(onPerfEntry);\r\n\t\t\tgetLCP(onPerfEntry);\r\n\t\t\tgetTTFB(onPerfEntry);\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.scss';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n\t<React.StrictMode>\r\n\t\t<App />\r\n\t</React.StrictMode>,\r\n\tdocument.getElementById('root'),\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}